<%- include('partials/header', { username: username }) %>

<div class="pixel-box quiz-setup">
    <h2>Quiz Setup</h2>

    <div class="quiz-intro">
        <p>Welcome to the Quiz! Customize your challenge below.</p>
        <% if (typeof error !== 'undefined' && error) { %>
            <p class="error-message"><%= error %></p>
        <% } %>
    </div>

    <form action="/quiz/start" method="POST" class="quiz-config-form">
        <div class="form-group">
            <label for="questionCount">Number of questions:</label>
            <select id="questionCount" name="questionCount">
                <option value="5">5 Questions</option>
                <option value="10" selected>10 Questions</option>
                <option value="15">15 Questions</option>
                <option value="20">20 Questions</option>
                <option value="25">25 Questions</option>
            </select>
        </div>

        <div class="form-group">
            <label for="category">Category:</label>
            <select id="category" name="category">
                <option value="">Any Category</option>
                <% if (typeof categories !== 'undefined' && categories.length > 0) { %>
                    <% categories.forEach(category => { %>
                        <option value="<%= category.id %>"><%= category.name %></option>
                    <% }); %>
                <% } else { %>
                    <option value="" disabled>Could not load categories</option>
                <% } %>
            </select>
        </div>

        <div class="form-group">
            <label for="difficulty">Difficulty:</label>
            <select id="difficulty" name="difficulty">
                <option value="">Any Difficulty</option>
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
            </select>
        </div>

        <div class="form-group">
            <label for="timerDuration">Time per question (seconds):</label>
            <select id="timerDuration" name="timerDuration">
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
                <option value="30" selected>30</option>
                <option value="45">45</option>
                <option value="60">60</option>
            </select>
        </div>

        <button type="submit" class="submit-btn">Start Quiz</button>
    </form>

    <div class="quiz-instructions">
        <h3>Instructions:</h3>
        <ul>
            <li>Each question has 4 possible answers; select the correct one.</li>
            <li>You'll receive immediate feedback after answering.</li>
            <li>If the timer runs out, you'll automatically move to the next question.</li>
            <li>Your score will be saved when you complete the quiz.</li>
        </ul>
    </div>
</div>

<%- include('partials/footer') %>
